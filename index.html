<!DOCTYPE html>
<html lang="dk" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Eksamensprojekt</title>
    <!-- Libraries -->
    <script src="Libraries/p5.js" charset="utf-8"></script>
    <script src="Libraries/p5.dom.js" charset="utf-8"></script>
    <script src="HID.js" charset="utf-8"></script>
    <script src="transition.js" charset="utf-8"></script>
    <!-- <script src="Libraries/p5.min.js" charset="utf-8"></script> -->
    <!-- Scripts -->

    <!-- Other -->
    <link rel="stylesheet" href="style.css">

  </head>
  <body>
    <div class="frame">
      <script type="text/javascript">

        /* GENERAL */
        var frame = 0         //Control variable for keeping track of animation (dias frame, not time)

        var dark = 50         //Default dark color
        var bright = 205      //Default bright color

        var area = {
          "H": 0,             //Browser height
          "W": 0,             //Browser width
          "h": 0,             //Animation-area height
          "w": 0,             //Animation-area width
          "C": {              //Center values for those;
            "H": 0,
            "W": 0,
            "h": 0,
            "w": 0,
          }
        }

        /* MATTER - ANTIMATTER */
        var bColor = dark     //Background color
        var fColor = bright   //Foreground color
        var dir = true        //The direction for color fading (two-way = true/false)
        var title = "MATTER"  //The title-text

        /* ATOM - QUARK */
        var eT = 0            //Time elapsed for the circulating electron
        var atomSize = 1;     //Or zoom size for the atom

        /* CODE TO BE EXECUTED ONCE ONLY AT START */
        function setup() {
          createCanvas(innerWidth,innerHeight)  //Create a HTML5 Canvas for the p5.js enviorment
          frameRate(20)                         //Set the frameRate

          area.H = windowHeight
          area.W = windowWidth
          area.h = windowHeight-20
          area.w = windowWidth-350
          area.C.H = windowHeight/2
          area.C.W = windowWidth/2
          area.C.h = (windowHeight-20)/2
          area.C.w = (windowWidth-350)/2
        }

        /* CODE TO BE EXECUTEDE REPEATLY */
        function draw() {
          if (mouseIsPressed) {   //When mouse is pressed down (ether right or left) do:
            frame++               //Increase frame (continue "sliding")

            console.log(frame)    //For Debugging purposes only
          }
          frameSet()              //Call frameSet (Check for anything new shall happen in the current frame)

          fill(255)
          noStroke()
          rect(area.w,0,area.W,area.h)
          fill(0)
          rect(0,area.h,area.W,area.H)

        }

        /* Checks if anything new shall be exectued in the current frame */
        function frameSet() {
          if (betw(0, 200)) {     //If frame is inbetween 0 and 200 do:
            atom()                //Call atom
          }

          if (betw(200, 400)) {   //If frame is inbetween 200 and 400 do:
            atom(true)            //Call atom with true parameter
            quark()               //And call quark
          }
        }

        /*  */
        function betw(low,high){if(frame>=low&&frame<high){return true}return false}
        function windowResized(){resizeCanvas(windowWidth,windowHeight)}

        function atom(x) {        //x is used to modify behavior for som part of the function
          if (!x) {               //If x is not defined or false do:
            if (mouseIsPressed) { //Check if mouse is pressed down (either left or right):
              atomSize+=2         //Increase atom
            }
          }

          var eX = cos(eT)*(150+atomSize) //Create or re-define the electron's x position (Using cos to make it orbit)
          var eY = sin(eT)*(150+atomSize) //Create or re-define the electron's y position (Using sin to make it orbit)
          eT+=0.02                        //Increase elapsed time

          background(bright)
          fill(bright)
          ellipse(area.C.w,area.C.h,300+atomSize*2)
          fill(dark)
          ellipse(area.C.w,area.C.h,50+atomSize)
          ellipse(area.C.w+eX,area.C.h+eY,20+atomSize/10)

          if (x) {                //If x is true do:
            fill(bright)          //Set fill-color
            textSize(24)          //Set font/text size
            text("e-",area.C.w+eX,area.C.h+eY+7) //Create a text at the electron's position
          }
        }

        function quark() {

          fill(bright)
          ellipse(area.C.w,area.C.h+90,100)
          ellipse(area.C.w-75,area.C.h-65,100)
          ellipse(area.C.w+75,area.C.h-65,100)

          textAlign(CENTER)
          fill(dark)
          text("DOWN",area.C.w,area.C.h+90+10)
          text("UP",area.C.w-75,area.C.h-65+5)
          text("UP",area.C.w+75,area.C.h-65+5)
        }

        function page1() {

          //createElement('H1', data.zero.header)
          //createElement('P', data.zero.content)

          background(bColor)
          noStroke()
          fill(fColor)
          ellipse(area.C.w,area.C.h,50,50)
          textSize(40)
          textAlign(CENTER)
          text(title, area.C.w,area.C.h-100)
          textSize(20)
          text("[Hold hÃ¸jre eller venstre museknap nede]", area.C.w,area.h-50)
          if(dir) {
            bColor++
            fColor--
          } else if (!dir) {
            bColor--
            fColor++
          }
          if(bColor >= bright || bColor <= dark) {
            dir = !dir
          }
          if(bColor == fColor+1) {
            if(title == "ANTI-MATTER") {
              title = "MATTER"
            } else {
              title = "ANTI-MATTER"
            }
          }
        }

      </script>
    </div>
  </body>
</html>
